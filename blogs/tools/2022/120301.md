---
title: vim-day3
date: 2022-12-03 18:51
tags: 
 - vim
categories: 
 - frontEnd
---

## 寄存器

### 复制与粘贴

#### 调换字符

`xp`: 调换字符，`x` 删除当前光标下的字符并存入无名寄存器，`p` 将无名寄存器中的字符粘贴到当前光标后

#### 调换文本行

`ddp`: 删除光标所在行并将内容存入无名寄存器，同时光标移动到下一行，再粘贴无名寄存器中内容到下一行

#### 创建文本行的副本

`yyp`: 复制光标所在当前行，并粘贴到光标下一行

练习：将somethingInTheWay替换为collection

```js
collection = getCollection()

process(somethingInTheWay, target)
```

* `vey`: 选中collection并复制到寄存器
* `jjww`: 到somethingInTheWay开头
* `vep`: 粘贴

#### 理解vim寄存器

`x` `s` `d{motion}` `c{motion}` `y{motion}` 命令都会覆盖无名寄存器中的内容

可以通过 `{register}` 的方式指定要操作内容到指定的寄存器，例如 `"_dd` 将光标所在当前行剪切到黑洞寄存器（删除了就无法恢复！！） `ayy` 将光标所在当前行复制到a寄存器（但是有一个问题啊，输入 a就直接进入插入模式了！！）

复制专用寄存器 `"0`，当咱们通过 `y{motion}` 进行的复制操作将会把内容存储到复制专用寄存器以及无名寄存器 `""` 中，当执行的 `d{motion}` 剪切的内容会覆盖无名寄存器 `""` 中的内容，不会影响 复制专用寄存器 `"0` 中内容

`"a - "z`: 一共26个有名寄存器可以让我们使用！！！

<span style="color: pink;">用小写字母引用有名寄存器，会覆盖该寄存器的原有内容，而换用大写字母的话，则会将新内容添加到该寄存器的原有内容之后</span> 

`"+` 以及 `"*` 虽然是两种概念，但是在 windows 以及 mac os系统中可以混用，两则都代表系统剪贴板，可以做到 vim 中的文本内容与其他应用内容进行双向的复制粘贴操作，对了咱们的vscode可以配置 vim use system clipboard，达到共享的效果

`"=` 表达式寄存器，当敲击会唤出命令行模式，然后输入表达式例如 `3*2` 然后回车后再 按 p 则会粘贴其中的数值 6 到光标后，但是 vscode 不支持啊！！

一些隐式赋值的寄存器。又被称为只读寄存器

![只读寄存器](./2022-12-07-12-56-16.png)

对了，在命令行模式敲击 `:reg` 可以唤出所有的寄存器使用情况

#### 使用寄存器中的内容替换高亮选区的文本

其实就是咱们前面的操作，先可视模式选中内容，然后使用 p 将无名寄存器的内容粘贴到当前选中区域

<span style="color: pink;">使用 `p` 进行粘贴的时候默认拿取无名寄存器的内容，同时若此时你使用可视模式选中了高亮文本，那么高亮文本被无名寄存器中内容替换，同时高亮的文本内容会覆盖无名寄存器的内容！！</span>

下面是一个练习：交换两个词

```txt
I like fish and chips
```

`fc`: 查找到c字符处

`de`: 删除单词并存入无名寄存器，同时跳转到后面一个字符处

`mm`: 标记当前光标位置

`ww`: 正向跳转到第二个单词开头

`ve`: 可视模式选中到单词的结尾

`p`: 粘贴无名寄存器内容，并把选中内容覆盖无名寄存器中内容

<code>`m</code>: 跳转到标记 m 处

`P`: <span style="color: pink;">大写的p</span> 将会将无名寄存器内容粘贴到当前光标位置前！！

#### 把寄存器的内容粘贴出来

Vim也提供了（大写的）P命令用于将文本插入到光标之前

怎样才能知道 p 命令是把寄存器的文本粘贴到当前字符之后还是当前行之后呢？取决于这个指定的寄存器是怎样被赋值的。面向行的复制或者删除操作（例如：dd、yy或者dap），将创建面向行的寄存器；而面向字符的复制或者删除操作（例如：x、diw或者das），则创建面向字符的寄存器，由于p和P命令粘贴内容对光标的位置有依赖，所以，还有一种方式就是在插入模式 直接 `<C-r>{register}` 指定对应寄存器的内容粘贴到光标之前！！！

练习一个例子

```html
<table>
  
  <tr>
    <td>hello</td>
    <td>world</td>
  </tr>

</table>
```

`yap`: 复制一段文本，注意一段是按照空行进行分割的！！！所以一般复制后会多空行

`gP`: 当前光标所在位置上方粘贴无名寄存器内容，同时光标会移动到粘贴出来文本结尾而不是开头

对于字符的粘贴：建议使用`<C-r>{register}`

对于多行文本的粘贴：建议使用 `p` `P` `gp` `gP`

### 宏
