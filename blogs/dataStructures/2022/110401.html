<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="./favicon.ico"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>数据结构与算法——day9 | Chinbor's site</title><meta name="description" content="Enjoy life, and do what you want to do.">
    <link rel="modulepreload" href="/assets/app.9376a9a7.js"><link rel="modulepreload" href="/assets/110401.html.c13b7d71.js"><link rel="modulepreload" href="/assets/110401.html.1dbc193f.js"><link rel="prefetch" href="/assets/index.html.d19daf83.js"><link rel="prefetch" href="/assets/092301.html.7324a9e4.js"><link rel="prefetch" href="/assets/093001.html.0d02c2c6.js"><link rel="prefetch" href="/assets/100601.html.88ac711c.js"><link rel="prefetch" href="/assets/100801.html.50ae564d.js"><link rel="prefetch" href="/assets/101001.html.ec0344f4.js"><link rel="prefetch" href="/assets/101301.html.924851b2.js"><link rel="prefetch" href="/assets/101401.html.135c84e9.js"><link rel="prefetch" href="/assets/101402.html.2f2f93a4.js"><link rel="prefetch" href="/assets/101501.html.c1279c0c.js"><link rel="prefetch" href="/assets/101701.html.d266ca3e.js"><link rel="prefetch" href="/assets/101901.html.fe176c06.js"><link rel="prefetch" href="/assets/102001.html.0ebed8fc.js"><link rel="prefetch" href="/assets/102101.html.eaf50b3c.js"><link rel="prefetch" href="/assets/102201.html.cd03a564.js"><link rel="prefetch" href="/assets/102501.html.7703a968.js"><link rel="prefetch" href="/assets/102601.html.3bceea0b.js"><link rel="prefetch" href="/assets/102701.html.60be4c47.js"><link rel="prefetch" href="/assets/110101.html.6517aaa3.js"><link rel="prefetch" href="/assets/110301.html.ec6cdbd2.js"><link rel="prefetch" href="/assets/111001.html.434dc0ee.js"><link rel="prefetch" href="/assets/111801.html.29042f5e.js"><link rel="prefetch" href="/assets/120701.html.8da0a3a8.js"><link rel="prefetch" href="/assets/092301.html.a71da8b8.js"><link rel="prefetch" href="/assets/092401.html.144c5822.js"><link rel="prefetch" href="/assets/092402.html.f0657724.js"><link rel="prefetch" href="/assets/092701.html.c1cb0541.js"><link rel="prefetch" href="/assets/092801.html.0c1a6b16.js"><link rel="prefetch" href="/assets/092802.html.e5d9fc7f.js"><link rel="prefetch" href="/assets/092901.html.a798abe5.js"><link rel="prefetch" href="/assets/093001.html.6b097c00.js"><link rel="prefetch" href="/assets/100101.html.a6b7492d.js"><link rel="prefetch" href="/assets/100601.html.9352d0f0.js"><link rel="prefetch" href="/assets/100701.html.7eab918b.js"><link rel="prefetch" href="/assets/100801.html.d2de8b31.js"><link rel="prefetch" href="/assets/101001.html.5c807270.js"><link rel="prefetch" href="/assets/101101.html.53b60df1.js"><link rel="prefetch" href="/assets/101201.html.25e26291.js"><link rel="prefetch" href="/assets/101301.html.976c1867.js"><link rel="prefetch" href="/assets/101401.html.64d2869c.js"><link rel="prefetch" href="/assets/101402.html.5dce55aa.js"><link rel="prefetch" href="/assets/101501.html.f5fa6e11.js"><link rel="prefetch" href="/assets/092101.html.a069f4f9.js"><link rel="prefetch" href="/assets/102001.html.038ec22e.js"><link rel="prefetch" href="/assets/092401.html.af522865.js"><link rel="prefetch" href="/assets/110501.html.86b2a4fc.js"><link rel="prefetch" href="/assets/110701.html.9cc4e46b.js"><link rel="prefetch" href="/assets/092101.html.ca192ed5.js"><link rel="prefetch" href="/assets/111801.html.e42342e6.js"><link rel="prefetch" href="/assets/113001.html.22b2fb97.js"><link rel="prefetch" href="/assets/120301.html.9969f15c.js"><link rel="prefetch" href="/assets/404.html.085922a4.js"><link rel="prefetch" href="/assets/index.html.d093fa6b.js"><link rel="prefetch" href="/assets/index.html.01de30d1.js"><link rel="prefetch" href="/assets/index.html.99806978.js"><link rel="prefetch" href="/assets/index.html.a863ec63.js"><link rel="prefetch" href="/assets/index.html.d7c05163.js"><link rel="prefetch" href="/assets/index.html.9529055a.js"><link rel="prefetch" href="/assets/index.html.6eff8d6c.js"><link rel="prefetch" href="/assets/index.html.6be48672.js"><link rel="prefetch" href="/assets/index.html.da160671.js"><link rel="prefetch" href="/assets/index.html.4ed8aa02.js"><link rel="prefetch" href="/assets/index.html.1ebdd377.js"><link rel="prefetch" href="/assets/index.html.d14d3ce5.js"><link rel="prefetch" href="/assets/index.html.123b18b3.js"><link rel="prefetch" href="/assets/index.html.12f60a40.js"><link rel="prefetch" href="/assets/index.html.7982e00c.js"><link rel="prefetch" href="/assets/index.html.bd0c3cfb.js"><link rel="prefetch" href="/assets/index.html.a17b0751.js"><link rel="prefetch" href="/assets/index.html.e8fee520.js"><link rel="prefetch" href="/assets/index.html.bac4a023.js"><link rel="prefetch" href="/assets/index.html.fde07ae5.js"><link rel="prefetch" href="/assets/index.html.d0574615.js"><link rel="prefetch" href="/assets/index.html.e7ba8730.js"><link rel="prefetch" href="/assets/index.html.9efc7f36.js"><link rel="prefetch" href="/assets/index.html.16d43da6.js"><link rel="prefetch" href="/assets/index.html.21f1e1e3.js"><link rel="prefetch" href="/assets/index.html.d5bd5a0b.js"><link rel="prefetch" href="/assets/index.html.098e1930.js"><link rel="prefetch" href="/assets/index.html.9e2b18eb.js"><link rel="prefetch" href="/assets/index.html.7405d41a.js"><link rel="prefetch" href="/assets/index.html.5bfb7e9e.js"><link rel="prefetch" href="/assets/index.html.05ec6912.js"><link rel="prefetch" href="/assets/index.html.161fad50.js"><link rel="prefetch" href="/assets/index.html.69d72f37.js"><link rel="prefetch" href="/assets/092301.html.c06b5fa0.js"><link rel="prefetch" href="/assets/093001.html.2a07ef8f.js"><link rel="prefetch" href="/assets/100601.html.4cadfc9c.js"><link rel="prefetch" href="/assets/100801.html.3fe9afba.js"><link rel="prefetch" href="/assets/101001.html.830648b2.js"><link rel="prefetch" href="/assets/101301.html.5868a877.js"><link rel="prefetch" href="/assets/101401.html.6df2a74a.js"><link rel="prefetch" href="/assets/101402.html.cc025334.js"><link rel="prefetch" href="/assets/101501.html.d6922f6f.js"><link rel="prefetch" href="/assets/101701.html.1995c1d4.js"><link rel="prefetch" href="/assets/101901.html.6914f719.js"><link rel="prefetch" href="/assets/102001.html.92981302.js"><link rel="prefetch" href="/assets/102101.html.f9967a2e.js"><link rel="prefetch" href="/assets/102201.html.02b29fd2.js"><link rel="prefetch" href="/assets/102501.html.dfe04342.js"><link rel="prefetch" href="/assets/102601.html.6e865425.js"><link rel="prefetch" href="/assets/102701.html.caa736f5.js"><link rel="prefetch" href="/assets/110101.html.c8b52c23.js"><link rel="prefetch" href="/assets/110301.html.c4f7fb7a.js"><link rel="prefetch" href="/assets/111001.html.aa734bb2.js"><link rel="prefetch" href="/assets/111801.html.f2f9613d.js"><link rel="prefetch" href="/assets/120701.html.896c688b.js"><link rel="prefetch" href="/assets/092301.html.4e06658f.js"><link rel="prefetch" href="/assets/092401.html.014160e2.js"><link rel="prefetch" href="/assets/092402.html.e974f97e.js"><link rel="prefetch" href="/assets/092701.html.f0cfa5bc.js"><link rel="prefetch" href="/assets/092801.html.947a117d.js"><link rel="prefetch" href="/assets/092802.html.e67ef659.js"><link rel="prefetch" href="/assets/092901.html.72777fc6.js"><link rel="prefetch" href="/assets/093001.html.b4dadf43.js"><link rel="prefetch" href="/assets/100101.html.e72c793c.js"><link rel="prefetch" href="/assets/100601.html.bae0f185.js"><link rel="prefetch" href="/assets/100701.html.d5cd942e.js"><link rel="prefetch" href="/assets/100801.html.0a608abb.js"><link rel="prefetch" href="/assets/101001.html.83e02006.js"><link rel="prefetch" href="/assets/101101.html.731daf4a.js"><link rel="prefetch" href="/assets/101201.html.0792303a.js"><link rel="prefetch" href="/assets/101301.html.3bdd820e.js"><link rel="prefetch" href="/assets/101401.html.80a89c2e.js"><link rel="prefetch" href="/assets/101402.html.6fe87280.js"><link rel="prefetch" href="/assets/101501.html.750a3a36.js"><link rel="prefetch" href="/assets/092101.html.20deb875.js"><link rel="prefetch" href="/assets/102001.html.3bfb83e8.js"><link rel="prefetch" href="/assets/092401.html.0743f96f.js"><link rel="prefetch" href="/assets/110501.html.c0d80a5f.js"><link rel="prefetch" href="/assets/110701.html.584957db.js"><link rel="prefetch" href="/assets/092101.html.5f36eab2.js"><link rel="prefetch" href="/assets/111801.html.ad4eaf7f.js"><link rel="prefetch" href="/assets/113001.html.b4ba2bb3.js"><link rel="prefetch" href="/assets/120301.html.89366f6e.js"><link rel="prefetch" href="/assets/404.html.9fb80fc9.js"><link rel="prefetch" href="/assets/index.html.2da19332.js"><link rel="prefetch" href="/assets/index.html.cbce3f29.js"><link rel="prefetch" href="/assets/index.html.85f8c7a5.js"><link rel="prefetch" href="/assets/index.html.b85244b3.js"><link rel="prefetch" href="/assets/index.html.0073deac.js"><link rel="prefetch" href="/assets/index.html.42b020d4.js"><link rel="prefetch" href="/assets/index.html.60bd6370.js"><link rel="prefetch" href="/assets/index.html.8dfd38a8.js"><link rel="prefetch" href="/assets/index.html.6f84d9d7.js"><link rel="prefetch" href="/assets/index.html.ee9f4550.js"><link rel="prefetch" href="/assets/index.html.665fb28a.js"><link rel="prefetch" href="/assets/index.html.32b831c4.js"><link rel="prefetch" href="/assets/index.html.dda81b53.js"><link rel="prefetch" href="/assets/index.html.0f617929.js"><link rel="prefetch" href="/assets/index.html.4b2033c5.js"><link rel="prefetch" href="/assets/index.html.cc7ab730.js"><link rel="prefetch" href="/assets/index.html.c6d11e4a.js"><link rel="prefetch" href="/assets/index.html.16124de9.js"><link rel="prefetch" href="/assets/index.html.982be7f6.js"><link rel="prefetch" href="/assets/index.html.c02753b2.js"><link rel="prefetch" href="/assets/index.html.c33a8ec9.js"><link rel="prefetch" href="/assets/index.html.804cc531.js"><link rel="prefetch" href="/assets/index.html.aedde3fe.js"><link rel="prefetch" href="/assets/index.html.db7e5930.js"><link rel="prefetch" href="/assets/index.html.ae194d3a.js"><link rel="prefetch" href="/assets/index.html.e0a872a1.js"><link rel="prefetch" href="/assets/index.html.e47262d9.js"><link rel="prefetch" href="/assets/index.html.c71d3671.js"><link rel="prefetch" href="/assets/index.html.d7cab0d7.js"><link rel="prefetch" href="/assets/index.html.3339d1e4.js"><link rel="prefetch" href="/assets/index.html.e7d4b60c.js"><link rel="prefetch" href="/assets/index.html.2eebf6f6.js"><link rel="prefetch" href="/assets/reco-valine.ed4545b0.js">
    <link rel="stylesheet" href="/assets/style.c88b989b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper no-sidebar"><div><header class="navbar-container"><span class="nav-item site-brand"><a href="/" class=""><img class="logo" src="/logo.png" alt="Chinbor&#39;s site"><span class="site-name can-hide">Chinbor&#39;s site</span></a></span><div class="nav-item navbar-links-wrapper" style=""><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Categories">Categories <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Categories"><span class="title"><span>Categories</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Tags">Tags <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Tags"><span class="title"><span>Tags</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><!--]--></ul></div></div><!--]--></nav><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a><a class="icon-container left btn-toggle-menus" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="19" r="1"></circle><circle cx="12" cy="5" r="1"></circle></g></svg><!----></a></div></header><div class="mobile-menus-container"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Categories">Categories <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Categories"><span class="title"><span>Categories</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Tags">Tags <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Tags"><span class="title"><span>Tags</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><!--]--></ul></div></div><!--]--></nav><div class="appearance"><span>Appearance </span><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a></div></div><div class="sidebar-mask"></div><aside class="series-container"><!--[--><!--]--></aside><!--[--><main class="page-container show-catalog"><h1 class="page-title">数据结构与算法——day9</h1><div class="page-info"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="7" r="4"></circle><path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->chinbor<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 7v5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->2022-11-04 10:44:00<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->frontEnd<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8.5" cy="8.5" r="1" fill="currentColor"></circle><path d="M4 7v3.859c0 .537.213 1.052.593 1.432l8.116 8.116a2.025 2.025 0 0 0 2.864 0l4.834-4.834a2.025 2.025 0 0 0 0-2.864L12.29 4.593A2.025 2.025 0 0 0 10.859 4H7a3 3 0 0 0-3 3z"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->dataStructures algorithms<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="2"></circle><path d="M22 12c-2.667 4.667-6 7-10 7s-7.333-2.333-10-7c2.667-4.667 6-7 10-7s7.333 2.333 10 7"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[--><span id="/blogs/dataStructures/2022/110401.html" class="leancloud-visitors" data-flag-title="Your Article Title"><a class="leancloud-visitors-count" style=""></a></span><!--]--></span></a></div><div class="theme-reco-default-content"><div><h2 id="图" tabindex="-1"><a class="header-anchor" href="#图" aria-hidden="true">#</a> 图</h2><ul><li>相邻顶点：由 <span style="color:pink;">一条边</span> 连接在一起的顶点</li><li>顶点的度： <ul><li>无向图：一个顶点的度是其相邻顶点的数量</li><li>有向图：分为入度（其他相邻顶点指向当前顶点）跟出度（当前顶点指出去到其他相邻顶点）</li></ul></li><li>路径：路径是顶点v1, v2,…, vk的一个连续序列，其中vi和vi+1是相邻的</li><li>简单路径：简单路径要求 <span style="color:pink;">不包含重复</span> 的顶点，</li><li>环：除去最后一个顶点（因为它和第一个顶点是同一个顶点），环也是一个简单路径</li><li>无环：如果图中不存在环，则称该图是无环的</li><li>连通：如果图中 <span style="color:pink;">每两个顶点间都存在路径</span> ，则该图是连通的，如下图 <img src="/assets/2022-11-04-12-53-06.06307cbf.png" alt="连通无向图"></li><li>强连通：每两个顶点间 <span style="color:pink;">在双向上都存在路径</span> ，如下图 <img src="/assets/2022-11-04-12-55-10.99a2f226.png" alt="强连通无向图"></li></ul><h3 id="有向图、无向图和加权图" tabindex="-1"><a class="header-anchor" href="#有向图、无向图和加权图" aria-hidden="true">#</a> 有向图、无向图和加权图</h3><ul><li>有向图：边有一个方向，A可到B，B不一定可到A</li><li>加权图：边存在权重</li><li>无向图：连接而无方向，A可到B，B可到A</li></ul><p><img src="/assets/2022-11-04-11-08-23.0206bb2a.png" alt="有向图"></p><p>如果图中每两个顶点间在双向上都存在路径，则该图是强连通的。CD双向都存在路径是强连通的，AB不是强连通的所以图示的图不是 <span style="color:pink;">强连通的</span></p><p>图还可以是 <span style="color:pink;">未加权的或是加权的</span> 。加权的意思就是边具有权值，如下图所示</p><p><img src="/assets/2022-11-04-11-08-52.70022cee.png" alt="加权图"></p><h3 id="图的邻接矩阵表示法" tabindex="-1"><a class="header-anchor" href="#图的邻接矩阵表示法" aria-hidden="true">#</a> 图的邻接矩阵表示法</h3><p>我们用一个二维数组来表示顶点之间的连接。如果索引为i的节点和索引为j的节点相邻，则array[i][j] === 1，否则array[i][j] === 0</p><p>使用二维数组进行表示，会浪费很多空间，因为我们对于图的一系列操作（查找，遍历等）无非是基于边的关系进行的（存储1），顶点与顶点之间若无边此时存储0，这其实是浪费了空间的，因为我们本不需要0这个关系！！尤其是出现稀疏图（不是强连通的图，如下图），此时会出现很多0！！！强连通图只会是左上到右下斜线全为0，其余全为1</p><p><img src="/assets/2022-11-04-13-04-01.65f67005.png" alt="稀疏图与强连通图"></p><h4 id="未加权邻接矩阵" tabindex="-1"><a class="header-anchor" href="#未加权邻接矩阵" aria-hidden="true">#</a> 未加权邻接矩阵</h4><p>对于未加权图而言，若顶点Vi 和 Vj 之间有边相连，则邻接矩阵中对应项存放着1，若顶点Vi 和 Vj 不相连，则用0代表这两个顶点之间不存在边。</p><p><strong>未加权有向图</strong><img src="/assets/2022-11-04-14-15-47.a19e4da4.png" alt="未加权有向图"></p><p><strong>未加权无向图</strong><img src="/assets/2022-11-04-14-11-58.50a8c567.png" alt="未加权无向图"></p><ul><li>可以看到对于无向图基于对角线划分为上下两半，他们是对称的，所以存储一半就好了！！</li></ul><h4 id="加权邻接矩阵" tabindex="-1"><a class="header-anchor" href="#加权邻接矩阵" aria-hidden="true">#</a> 加权邻接矩阵</h4><p>对于带权图而言，若顶点Vi 和 Vj 之间有边相连，则邻接矩阵中对应项存放着该边对应的权值，若顶点Vi 和 Vj 不相连，则用0或∞来代表这两个顶点之间不存在边。</p><p><strong>加权有向图</strong><img src="/assets/2022-11-04-14-29-00.a6b30241.png" alt="加权有向图"></p><p><strong>加权无向图</strong><img src="/assets/2022-11-04-14-26-47.cf7455e2.png" alt="加权无向图"></p><h3 id="图的邻接表表示法" tabindex="-1"><a class="header-anchor" href="#图的邻接表表示法" aria-hidden="true">#</a> 图的邻接表表示法</h3><p>每一个顶点都是一个链表数据结构，数组存放每一个顶点</p><h4 id="未加权邻接表" tabindex="-1"><a class="header-anchor" href="#未加权邻接表" aria-hidden="true">#</a> 未加权邻接表</h4><p><strong>未加权有向图</strong><img src="/assets/2022-11-04-15-24-16.8b4ba6ab.png" alt="未加权有向图"></p><p><strong>未加权无向图</strong><img src="/assets/2022-11-04-15-18-04.286e3f4f.png" alt="未加权无向图"></p><h4 id="加权邻接表" tabindex="-1"><a class="header-anchor" href="#加权邻接表" aria-hidden="true">#</a> 加权邻接表</h4><p><strong>加权有向图</strong><img src="/assets/2022-11-04-15-28-09.58dfbc29.png" alt="加权有向图"></p><p><strong>加权无向图</strong><img src="/assets/2022-11-04-15-30-42.58304bb6.png" alt="加权无向图"></p><h3 id="图的关联矩阵表示法" tabindex="-1"><a class="header-anchor" href="#图的关联矩阵表示法" aria-hidden="true">#</a> 图的关联矩阵表示法</h3><p>在关联矩阵中，矩阵的行表示顶点，列表示边。如下图所示，使用二维数组来表示两者之间的连通性，如果顶点v是边e的入射点，则array[v][e] === 1；否则，array[v][e] === 0。</p><p><img src="/assets/2022-11-04-15-42-09.c2947155.png" alt="关联矩阵"></p><h2 id="代码实现" tabindex="-1"><a class="header-anchor" href="#代码实现" aria-hidden="true">#</a> 代码实现</h2><h3 id="创建graph类" tabindex="-1"><a class="header-anchor" href="#创建graph类" aria-hidden="true">#</a> 创建Graph类</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Dictionary <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./dictionary&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Graph</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> vertices<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">private</span> adjList<span class="token operator">:</span> Dictionary<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dictionary</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> isDirected <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">addVertex</span><span class="token punctuation">(</span>v<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>vertices<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>vertices<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>adjList<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">addEdge</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 验证添加的两个顶点是否在 adjList 列表中，不存在则都添加进去！！</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>adjList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>adjList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>

    <span class="token comment">// a -&gt; b</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>adjList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">push</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>

    <span class="token comment">// 若为无向图 b -&gt; a，否则只是单向 a -&gt; b</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isDirected<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>adjList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">push</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">getVertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>vertices
  <span class="token punctuation">}</span>

  <span class="token function">getAdjList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>adjList
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>vertices<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      s <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> -&gt; </span><span class="token template-punctuation string">`</span></span>
      <span class="token keyword">const</span> neighbors <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>adjList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">!</span>

      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> neighbors<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        s <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>neighbors<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span>

      s <span class="token operator">+=</span> <span class="token string">&#39;\n&#39;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> s
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vitest测试如下</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> describe<span class="token punctuation">,</span> expect<span class="token punctuation">,</span> test <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vitest&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Graph <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../examples/graph&#39;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#39;graph.ts&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;Graph&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> vertices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;F&#39;</span><span class="token punctuation">]</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> vertices<span class="token punctuation">)</span>
      graph<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>

    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;F&#39;</span><span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchInlineSnapshot</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &quot;A -&gt; B C D 
      B -&gt; A E F 
      C -&gt; A D 
      D -&gt; A C 
      E -&gt; B 
      F -&gt; B 
      &quot;
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="图的遍历" tabindex="-1"><a class="header-anchor" href="#图的遍历" aria-hidden="true">#</a> 图的遍历</h3><ul><li>必须追踪每个第一次访问的节点，并且追踪有哪些节点还没有被完全探索</li><li>完全探索一个顶点要求我们查看该顶点的每一条边。对于每一条边所连接的没有被访问过的顶点，将其标注为被发现的，并将其加进待访问顶点列表中</li><li>为了保证算法的效率，务必访问每个顶点至多两次</li></ul><p>三种颜色表示顶点的状态</p><ul><li>白色：未被访问过的顶点</li><li>灰色：发现顶点，被访问过</li><li>黑色：被访问过且被完全探索过</li></ul><p>颜色枚举代码如下</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">enum</span> Colors <span class="token punctuation">{</span>
  <span class="token constant">WHITE</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token constant">GREY</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token constant">BLACK</span> <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>初始情况所有顶点都是白色，初始化颜色代码如下</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">initializeColor</span> <span class="token operator">=</span> <span class="token punctuation">(</span>vertices<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> color<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertices<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    color<span class="token punctuation">[</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Colors<span class="token punctuation">.</span><span class="token constant">WHITE</span>

  <span class="token keyword">return</span> color
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="广度优先搜索-bfs" tabindex="-1"><a class="header-anchor" href="#广度优先搜索-bfs" aria-hidden="true">#</a> 广度优先搜索（BFS）</h4><p><span style="color:pink;">需要一个源顶点startVertex</span></p><ul><li>创建一个队列Q。</li><li>标注v为被发现的（灰色），并将v入队列Q。</li><li>如果Q非空，则运行以下步骤： <ul><li>将u从Q中出队列；</li><li>标注u为被发现的（灰色）；</li><li>将u所有未被访问过的邻点（白色）入队列；</li><li>标注u为已被探索的（黑色）。</li></ul></li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">breadthFirstSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span>graph<span class="token operator">:</span> Graph<span class="token punctuation">,</span> startVertex<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span>v<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 获取图中所有顶点</span>
  <span class="token keyword">const</span> vertices <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getVertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// 获取所有的顶点的关系</span>
  <span class="token keyword">const</span> adjList <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getAdjList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// 初始化顶点颜色为全白（表示未访问）</span>
  <span class="token keyword">const</span> color <span class="token operator">=</span> <span class="token function">initializeColor</span><span class="token punctuation">(</span>vertices<span class="token punctuation">)</span>
  <span class="token comment">// 创建队列用于存储顶点！</span>
  <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// 开始搜索的顶点</span>
  queue<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>startVertex<span class="token punctuation">)</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>queue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 从队列中去取顶点</span>
    <span class="token keyword">const</span> u <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 获取顶点的相邻顶点</span>
    <span class="token keyword">const</span> neighbors <span class="token operator">=</span> adjList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token operator">!</span>
    <span class="token comment">// 顶点颜色设置为灰色（表示已访问）</span>
    color<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> Colors<span class="token punctuation">.</span><span class="token constant">GREY</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> neighbors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>color<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">===</span> Colors<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        color<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> Colors<span class="token punctuation">.</span><span class="token constant">GREY</span>
        queue<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    color<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> Colors<span class="token punctuation">.</span><span class="token constant">BLACK</span>

    callback <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/2022-11-05-14-33-28.4ac01893.png" alt="广度优先搜索"></p><p><span style="color:pink;">tips：上面罗列的是未加权无向图，关于未加权有向图可以依葫芦画瓢</span></p><p><strong>解决最短路径问题（给定一个图G和源顶点v，找出每个顶点u和v之间最短路径的距离（以边的数量计））</strong></p><ul><li>对于给定顶点v，广度优先算法会访问所有与其距离为1的顶点，接着是距离为2的顶点，以此类推</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">shortestPathByBFS</span> <span class="token operator">=</span> <span class="token punctuation">(</span>graph<span class="token operator">:</span> Graph<span class="token punctuation">,</span> startVertex<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> vertices <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getVertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> adjList <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getAdjList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> color <span class="token operator">=</span> <span class="token function">initializeColor</span><span class="token punctuation">(</span>vertices<span class="token punctuation">)</span>
  <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> distances<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> predecessors<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  queue<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>startVertex<span class="token punctuation">)</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> vertices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    distances<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    predecessors<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>queue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> u <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> neighbors <span class="token operator">=</span> adjList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token operator">!</span>
    color<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> Colors<span class="token punctuation">.</span><span class="token constant">GREY</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> neighbors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>color<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">===</span> Colors<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        color<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> Colors<span class="token punctuation">.</span><span class="token constant">GREY</span>
        distances<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> distances<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
        predecessors<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> u
        queue<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    color<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> Colors<span class="token punctuation">.</span><span class="token constant">BLACK</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    distances<span class="token punctuation">,</span>
    predecessors<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述代码在之前搜索算法的基础上增加了对象 <code>distances</code>、<code>predecessors</code>，一个是按边统计距离源点距离，一个是记录顶点的前溯点</p><p>得到了<code>predecessors</code>对象，我们需要处理这个对象进而构建源点到其余各点的最短路径线路，方法如下</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">buildPaths</span> <span class="token operator">=</span> <span class="token punctuation">(</span>startVertex<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">,</span> vertices<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> predecessors<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> fromVertex <span class="token operator">=</span> startVertex
  <span class="token keyword">const</span> paths <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertices<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> toVertex <span class="token operator">=</span> vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> v <span class="token operator">=</span> toVertex<span class="token punctuation">;</span> v <span class="token operator">!==</span> fromVertex<span class="token punctuation">;</span> v <span class="token operator">=</span> predecessors<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span>
      path<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>

    path<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fromVertex<span class="token punctuation">)</span>

    <span class="token keyword">let</span> s <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>path<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      s <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

    paths<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> paths
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用vitest测试代码如下</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> describe<span class="token punctuation">,</span> expect<span class="token punctuation">,</span> test <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vitest&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Graph <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../examples/graph&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> breadthFirstSearch<span class="token punctuation">,</span> buildPaths<span class="token punctuation">,</span> shortestPathByBFS <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../examples/breadth-first-search&#39;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#39;graph.ts&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> vertices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;F&#39;</span><span class="token punctuation">]</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> vertices<span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>

  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;F&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;Graph&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchInlineSnapshot</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &quot;A -&gt; B C D 
      B -&gt; A E F 
      C -&gt; A D 
      D -&gt; A C 
      E -&gt; B 
      F -&gt; B 
      &quot;
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;BFS&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>

    <span class="token function">breadthFirstSearch</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> vertices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      s <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>s <span class="token operator">+</span> v<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    s <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchInlineSnapshot</span><span class="token punctuation">(</span><span class="token string">&#39;&quot;A B C D E F&quot;&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;shortestPath&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// NOTE: 注意咱们的 vertices第一个元素一定是作为最短路径shortestPathByBFS的 startVertex 以及 buildPaths中的 startVertex</span>
    <span class="token comment">// buildPaths 不是一个通用的方法</span>
    <span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> vertices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;F&#39;</span><span class="token punctuation">]</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> vertices<span class="token punctuation">)</span>
      graph<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>

    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;F&#39;</span><span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> shortestPath <span class="token operator">=</span> <span class="token function">shortestPathByBFS</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> vertices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">buildPaths</span><span class="token punctuation">(</span>vertices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> vertices<span class="token punctuation">,</span> shortestPath<span class="token punctuation">.</span>predecessors<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchInlineSnapshot</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      [
        &quot;B - A&quot;,
        &quot;B - A - C&quot;,
        &quot;B - A - D&quot;,
        &quot;B - E&quot;,
        &quot;B - F&quot;,
      ]
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="深度优先搜索-dfs" tabindex="-1"><a class="header-anchor" href="#深度优先搜索-dfs" aria-hidden="true">#</a> 深度优先搜索（DFS）</h4><p><span style="color:pink;">不需要源顶点</span></p><p>要访问顶点v，照如下步骤做：</p><ul><li>标注v为被发现的（灰色）；</li><li>对于v的所有未访问（白色）的邻点w，访问顶点w；</li><li>标注v为已被探索的（黑色）。</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">depthFirstSearchVisit</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  v<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  color<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
  adjList<span class="token operator">:</span> Dictionary<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span>v<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 顶点置为灰色，表示访问过</span>
  color<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> Colors<span class="token punctuation">.</span><span class="token constant">GREY</span>
  callback <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>

  <span class="token comment">// 获取顶点的所有邻接点</span>
  <span class="token keyword">const</span> neighbors <span class="token operator">=</span> adjList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token operator">!</span>

  <span class="token comment">// 所有邻接点若为白色那么递归继续访问</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> w <span class="token keyword">of</span> neighbors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">===</span> Colors<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">)</span>
      <span class="token function">depthFirstSearchVisit</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> color<span class="token punctuation">,</span> adjList<span class="token punctuation">,</span> callback<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 顶点设置为完全探索</span>
  color<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> Colors<span class="token punctuation">.</span><span class="token constant">BLACK</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">depthFirstSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span>graph<span class="token operator">:</span> Graph<span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span>v<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 获取所有顶点</span>
  <span class="token keyword">const</span> vertices <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getVertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// 获取所有邻接点</span>
  <span class="token keyword">const</span> adjList <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getAdjList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// 获取所有顶点的顶点颜色</span>
  <span class="token keyword">const</span> color <span class="token operator">=</span> <span class="token function">initializeColor</span><span class="token punctuation">(</span>vertices<span class="token punctuation">)</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> vertices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>color<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">===</span> Colors<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">)</span>
      <span class="token function">depthFirstSearchVisit</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> color<span class="token punctuation">,</span> adjList<span class="token punctuation">,</span> callback<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/2022-11-06-15-59-46.019a8d6e.png" alt="dfs算法"></p><p><span style="color:pink;">注意：<br>1. 访问的顺序跟邻接点的顺序是有关系的（代码 <code>depthFirstSearchVisit -&gt; for (const w of neighbors)</code>）<br>2. <code>depthFirstSearch</code> 函数内部有一个遍历所有顶点数组的循环，会判定顶点是否是白色，进而执行<code>depthFirstSearchVisit</code>，但是在我们给出的如图示例中的图执行的时候仅仅只会执行<code>depthFirstSearchVisit</code>方法一次，因为咱们访问的A顶点与其他任何一个顶点之间都是存在路径的！！，倘若使用如下的无向图那么函数 <code>depthFirstSearchVisit</code> 会执行两次！！<code>GHI</code>构成的图与<code>ABCDEF</code>构成的图没有关联关系！！</span></p><p><img src="/assets/2022-11-06-16-43-05.e02810fc.png" alt="访问次数对比图"></p><p><span style="color:pink;">深度优先算法背后的思想是什么？边是从最近发现的顶点u处被向外探索的。只有连接到未发现的顶点的边被探索了。当u所有的边都被探索了，该算法回退到u被发现的地方去探索其他的边<code>depthFirstSearchVisit -&gt; for (const w of neighbors)</code>。这个过程持续到我们发现了所有从原始顶点能够触及的顶点。如果还留有任何其他未被发现的顶点，我们对新源顶点重复这个过程<code>depthFirstSearch -&gt; for (const v of vertices)</code>。重复该算法，直到图中所有的顶点都被探索了</span></p><p><strong>拓扑排序</strong>：编排一些任务或步骤的执行顺序（只能是有向无环图 DAG）</p><p><img src="/assets/2022-11-06-17-57-37.267396b5.png" alt="DAG"></p><p>首先第一步就是咱们需要一个函数可以帮助咱们记录访问顶点的发现时间以及顶点访问完成的探索时间，当然还有前溯点（有了前溯点那么咱们可以写方法构建顶点间的路径数组，就像前面BFS中的<code>buildPaths</code>一样）</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">DFSVisit</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  v<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  color<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
  d<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
  f<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
  p<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
  time<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  adjList<span class="token operator">:</span> Dictionary<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  color<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> Colors<span class="token punctuation">.</span><span class="token constant">GREY</span>
  <span class="token comment">// 发现时间</span>
  d<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">++</span>time

  <span class="token comment">// 获取顶点的所有邻接点</span>
  <span class="token keyword">const</span> neighbors <span class="token operator">=</span> adjList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token operator">!</span>

  <span class="token comment">// 所有邻接点若为白色那么递归继续访问</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> w <span class="token keyword">of</span> neighbors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">===</span> Colors<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      p<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> v
      <span class="token function">DFSVisit</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> color<span class="token punctuation">,</span> d<span class="token punctuation">,</span> f<span class="token punctuation">,</span> p<span class="token punctuation">,</span> time<span class="token punctuation">,</span> adjList<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 顶点设置为完全探索</span>
  color<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> Colors<span class="token punctuation">.</span><span class="token constant">BLACK</span>

  <span class="token comment">// 完成时间</span>
  f<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">++</span>time
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">DFS</span> <span class="token operator">=</span> <span class="token punctuation">(</span>graph<span class="token operator">:</span> Graph<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> vertices <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getVertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> adjList <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getAdjList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> color <span class="token operator">=</span> <span class="token function">initializeColor</span><span class="token punctuation">(</span>vertices<span class="token punctuation">)</span>

  <span class="token keyword">const</span> discovery<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> finished<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> predecessors<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> vertices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    finished<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    discovery<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    predecessors<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> w <span class="token keyword">of</span> vertices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">===</span> Colors<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">)</span>
      <span class="token function">DFSVisit</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> color<span class="token punctuation">,</span> discovery<span class="token punctuation">,</span> finished<span class="token punctuation">,</span> predecessors<span class="token punctuation">,</span> time<span class="token punctuation">,</span> adjList<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    discovery<span class="token punctuation">,</span>
    finished<span class="token punctuation">,</span>
    predecessors<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/2022-11-06-18-33-57.10371135.png" alt="排序执行过程"></p><p>有了访问完成时间，接下来将所有顶点的访问时间按从大到小的顺序输出即为拓扑排序（相当于任务的执行顺序，执行A任务后才能执行B任务，每个任务的执行都有先决条件），代码如下</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">topSort</span> <span class="token operator">=</span> <span class="token punctuation">(</span>vertices<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> fTimes<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> vertices<span class="token punctuation">.</span>length<span class="token punctuation">;</span> count<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">let</span> maxName <span class="token operator">=</span> <span class="token keyword">null</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> vertices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>fTimes<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        max <span class="token operator">=</span> fTimes<span class="token punctuation">[</span>v<span class="token punctuation">]</span>
        maxName <span class="token operator">=</span> v
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    path <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>maxName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token keyword">delete</span> fTimes<span class="token punctuation">[</span>maxName<span class="token operator">!</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> path
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><span style="color:pink;">对了：不同的顶点顺序，拓扑排序的结果不同</span></p><p>vitest测试用例如下</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;depthFirstSearch&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>

  <span class="token function">depthFirstSearch</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    s <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>s <span class="token operator">+</span> v<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  s <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchInlineSnapshot</span><span class="token punctuation">(</span><span class="token string">&#39;&quot;A B E F C D&quot;&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;DFS-topSort&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> vertices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;F&#39;</span><span class="token punctuation">]</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> vertices<span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>

  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;F&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;F&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token constant">DFS</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span>

  <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">topSort</span><span class="token punctuation">(</span>vertices<span class="token punctuation">,</span> result<span class="token punctuation">.</span>finished<span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchInlineSnapshot</span><span class="token punctuation">(</span><span class="token string">&#39;&quot; - E - F - C - D - A - B&quot;&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 在 DFS 测试用例中改变顶点顺序</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;DFS-order-topSort&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> vertices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;F&#39;</span><span class="token punctuation">]</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> vertices<span class="token punctuation">)</span>
    graph<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>

  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;F&#39;</span><span class="token punctuation">)</span>
  graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token string">&#39;F&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token constant">DFS</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span>

  <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">topSort</span><span class="token punctuation">(</span>vertices<span class="token punctuation">,</span> result<span class="token punctuation">.</span>finished<span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchInlineSnapshot</span><span class="token punctuation">(</span><span class="token string">&#39;&quot; - A - C - F - B - E - D&quot;&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div><footer class="page-meta"><div class="meta-item edit-link"><a class="icon-container left meta-item-label" href="https://github.com/chinbor/chinbor.github.io/edit/main/blogs/dataStructures/2022/110401.md" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-3"></path><path d="M9 15h3l8.5-8.5a1.5 1.5 0 0 0-3-3L9 12v3"></path><path d="M16 5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Edit this page<!--]--></span></a></div><div class="meta-item last-updated"><a class="icon-container left meta-item-label" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11.795 21H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4"></path><circle cx="18" cy="18" r="4"></circle><path d="M15 3v4"></path><path d="M7 3v4"></path><path d="M3 11h16"></path><path d="M18 16.496V18l1 1"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Last Updated 2022-11-06 11:18:10<!--]--></span></a></div></footer><!----><div class="reco-valine-wrapper" style="display:none;"><div id="valine"></div></div></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/dataStructures/2022/110401.html#图" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="图"><!--[--><!--]--> 图 <!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/dataStructures/2022/110401.html#有向图、无向图和加权图" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="有向图、无向图和加权图"><!--[--><!--]--> 有向图、无向图和加权图 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/dataStructures/2022/110401.html#图的邻接矩阵表示法" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="图的邻接矩阵表示法"><!--[--><!--]--> 图的邻接矩阵表示法 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/dataStructures/2022/110401.html#图的邻接表表示法" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="图的邻接表表示法"><!--[--><!--]--> 图的邻接表表示法 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/dataStructures/2022/110401.html#图的关联矩阵表示法" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="图的关联矩阵表示法"><!--[--><!--]--> 图的关联矩阵表示法 <!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/dataStructures/2022/110401.html#代码实现" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="代码实现"><!--[--><!--]--> 代码实现 <!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/dataStructures/2022/110401.html#创建graph类" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="创建Graph类"><!--[--><!--]--> 创建Graph类 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/dataStructures/2022/110401.html#图的遍历" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="图的遍历"><!--[--><!--]--> 图的遍历 <!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.9376a9a7.js" defer></script>
  </body>
</html>
